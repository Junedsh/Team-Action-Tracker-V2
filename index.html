<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Action Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <link rel="stylesheet" href="src/css/style.css">
</head>

<body class="bg-gray-100">

    <nav class="bg-slate-800 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Left: Logo & Team Switcher -->
                <div class="flex items-center space-x-4">
                    <h1 class="text-xl font-bold text-white hidden md:block">Action Tracker <span
                            class="text-xs bg-emerald-500 px-1.5 py-0.5 rounded ml-1">V3</span></h1>

                    <!-- Team Switcher -->
                    <div class="relative group z-50">
                        <button id="team-menu-btn"
                            class="flex items-center space-x-2 bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md transition-colors border border-slate-600 hidden">
                            <span class="text-sm font-medium text-gray-400">Team:</span>
                            <span id="current-team-display" class="font-bold truncate max-w-[150px]">Loading...</span>
                            <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>

                        <!-- Dropdown -->
                        <div id="team-dropdown"
                            class="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg py-1 hidden ring-1 ring-black ring-opacity-5">
                            <div
                                class="px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50">
                                My Teams</div>
                            <div id="team-list-container" class="max-h-60 overflow-y-auto">
                                <!-- Team items injected here -->
                            </div>
                            <div class="border-t border-gray-100 mt-1 pt-1">
                                <button id="btn-create-another-team"
                                    class="w-full text-left px-4 py-2 text-sm text-indigo-600 hover:bg-indigo-50 flex items-center">
                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 4v16m8-8H4"></path>
                                    </svg>
                                    Join or Create Team
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: User Profile -->
                <div class="flex items-center space-x-4">
                    <div class="text-right hidden sm:block">
                        <div id="user-name-display" class="text-sm font-medium text-white">Guest</div>
                        <div id="user-role-display" class="text-xs text-gray-400">Team Member</div>
                    </div>
                    <button id="logout-btn" class="text-gray-300 hover:text-white text-sm font-medium hidden">Sign
                        Out</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- AUTH OVERLAY V2 -->
    <div id="auth-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-90 z-[100] flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-2xl p-8 max-w-md w-full animate-fade-in-up relative">
            <button id="auth-close-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 hidden">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <div class="text-center mb-8">
                <h2 id="auth-title" class="text-3xl font-bold text-gray-900">Welcome Back</h2>
                <p id="auth-subtitle" class="text-gray-500 mt-2">Sign in to access your team's dashboard</p>
            </div>

            <div id="auth-error-box" class="hidden mb-4 p-3 bg-red-100 text-red-700 rounded text-sm"></div>

            <form id="auth-form" class="space-y-6">
                <!-- Basic Credentials -->
                <div>
                    <label class="block text-sm font-medium text-gray-700">Email Address</label>
                    <input type="email" id="auth-email" required
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border">
                </div>
                <div class="mb-4">
                    <label for="auth-password" class="block text-sm font-medium text-gray-700">Password</label>
                    <input type="password" id="auth-password" placeholder="••••••••" required
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border">
                    <div class="text-right mt-1">
                        <button type="button" id="forgot-password-btn"
                            class="text-xs text-indigo-600 hover:text-indigo-500">
                            Forgot Password?
                        </button>
                    </div>
                </div>

                <!-- V2 EXTENSIONS: Team Logic (Only visible in SignUp mode) -->
                <div id="signup-fields" class="hidden space-y-4 pt-4 border-t border-gray-200">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="auth-name" placeholder="John Doe"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border">
                    </div>

                    <div class="flex space-x-4 mb-2">
                        <button type="button" id="btn-mode-join"
                            class="flex-1 py-2 px-4 border rounded-md text-sm font-medium focus:outline-none bg-indigo-50 text-indigo-700 border-indigo-200">
                            Join Team
                        </button>
                        <button type="button" id="btn-mode-create"
                            class="flex-1 py-2 px-4 border rounded-md text-sm font-medium text-gray-700 bg-white border-gray-300 hover:bg-gray-50">
                            Create Team
                        </button>
                    </div>
                    <input type="hidden" id="signup-type" value="join">

                    <!-- Join Team -->
                    <div id="field-team-code">
                        <label class="block text-sm font-medium text-gray-700">Team Code</label>
                        <input type="text" id="auth-team-code" placeholder="e.g. MKT-2024"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border uppercase tracking-wider">
                        <p class="text-xs text-gray-500 mt-1">Ask your manager for the code.</p>
                    </div>

                    <!-- Create Team -->
                    <div id="field-team-name" class="hidden">
                        <label class="block text-sm font-medium text-gray-700">New Team Name</label>
                        <input type="text" id="auth-team-name" placeholder="e.g. Marketing Dept"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-3 border">
                        <p class="text-xs text-gray-500 mt-1">We'll generate a code for you.</p>
                    </div>
                </div>

                <button type="submit" id="auth-submit-btn"
                    class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">
                    Sign In
                </button>
            </form>

            <div class="mt-6 text-center">
                <button id="toggle-auth-mode-btn" class="text-sm text-indigo-600 hover:text-indigo-500 font-medium">
                    Need an account? Sign Up
                </button>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT (Initially Hidden/Blurred) -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 filter blur-sm transition-all duration-300 pointer-events-none"
        id="main-content">
        <div class="bg-white rounded-lg shadow">
            <div class="p-6">
                <div class="flex flex-wrap justify-between items-center gap-4 mb-4">
                    <h2 class="text-xl font-semibold text-gray-800">Task Dashboard</h2>
                    <div class="flex gap-2">
                        <button id="manage-project-btn"
                            class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Manage Projects
                        </button>
                        <button id="manage-team-btn"
                            class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Manage Team
                        </button>
                        <button id="open-add-task-modal-btn"
                            class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Add New Task
                        </button>
                    </div>
                </div>
                <div id="summary-cards" class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4"></div>
                <div class="grid grid-cols-1 md:grid-cols-8 gap-4 items-end">
                    <input type="text" id="search-input" placeholder="Search tasks..."
                        class="md:col-span-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border">
                    <select id="filter-project"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white">
                        <option value="all">Filter by Project (All)</option>
                    </select>
                    <select id="filter-owner"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white">
                        <option value="all">Filter by Owner (All)</option>
                    </select>
                    <select id="filter-priority"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white">
                        <option value="all">Filter by Priority</option>
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                        <option value="Urgent">Urgent</option>
                    </select>
                    <select id="filter-status"
                        class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white">
                        <option value="all">Filter by Status</option>
                        <option value="Pending">Pending</option>
                        <option value="In Progress">In Progress</option>
                        <option value="Done">Done</option>
                        <option value="Overdue">Overdue</option>
                    </select>
                    <div>
                        <label for="filter-date-start" class="block text-xs font-medium text-gray-700 mb-1">Start
                            Date</label>
                        <input type="date" id="filter-date-start"
                            class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border text-gray-600">
                    </div>
                    <div>
                        <label for="filter-date-end" class="block text-xs font-medium text-gray-700 mb-1">End
                            Date</label>
                        <input type="date" id="filter-date-end"
                            class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border text-gray-600">
                    </div>
                </div>
            </div>
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8 px-6" aria-label="Tabs">
                    <button id="tab-list" data-view="list"
                        class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 border-indigo-600 text-indigo-600 font-medium text-sm cursor-pointer">Task
                        List</button>
                    <button id="tab-dashboard" data-view="kanban"
                        class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 cursor-pointer">Visual
                        Dashboard</button>
                    <button id="tab-calendar" data-view="calendar"
                        class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 cursor-pointer">Calendar</button>
                    <button id="tab-project-view" data-view="projects"
                        class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 cursor-pointer">Project
                        View</button>
                </nav>
            </div>
            <div id="tab-panel-list" class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable"
                                data-sort="description">Task <span class="sort-icon"></span></th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable"
                                data-sort="owner">Owner <span class="sort-icon"></span></th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable"
                                data-sort="priority">Priority <span class="sort-icon"></span></th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable"
                                data-sort="assignedDate">Assigned Date <span class="sort-icon"></span></th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable"
                                data-sort="promiseDate">Promise Date <span class="sort-icon"></span></th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Days Taken</th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Status</th>
                            <th scope="col"
                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Actions</th>
                        </tr>
                    </thead>
                    <tbody id="task-table-body" class="bg-white divide-y divide-gray-200"></tbody>
                </table>
            </div>
            <div id="tab-panel-dashboard" class="p-6 hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-center mb-2">Tasks by Status</h3><canvas
                            id="statusChart"></canvas>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-center mb-2">Tasks by Priority</h3><canvas
                            id="priorityChart"></canvas>
                    </div>
                    <div class="lg:col-span-2 bg-gray-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-center mb-2">Tasks per Owner</h3><canvas id="ownerChart"></canvas>
                    </div>
                </div>
            </div>
            <div id="tab-panel-calendar" class="p-6 hidden">
                <div id="calendar"></div>
            </div>
            <div id="tab-panel-project-view" class="p-6 hidden">
            </div>
            <!-- Update Password Modal (Recovery) -->
            <div id="update-password-modal"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-[200]">
                <div class="relative top-32 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <h3 id="modal-title" class="text-xl font-semibold text-gray-800">Update Password</h3><button
                            id="close-update-password-modal-btn" class="text-gray-400 hover:text-gray-600"><svg
                                class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg></button>
                    </div>
                    <form id="update-password-form" class="space-y-4">
                        <div>
                            <label for="new-password" class="block text-sm font-medium text-gray-700">New
                                Password</label>
                            <input type="password" id="new-password" name="new-password" required
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border">
                        </div>
                        <div>
                            <label for="confirm-password" class="block text-sm font-medium text-gray-700">Confirm
                                Password</label>
                            <input type="password" id="confirm-password" name="confirm-password" required
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border">
                        </div>
                        <button type="submit"
                            class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">
                            Update Password
                        </button>
                    </form>
                </div>
            </div>
            <div id="task-modal"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
                <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <h3 id="modal-title" class="text-xl font-semibold text-gray-800">Add New Task</h3><button
                            id="close-task-modal-btn" class="text-gray-400 hover:text-gray-600"><svg class="h-6 w-6"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg></button>
                    </div>
                    <form id="task-form" class="space-y-4"><input type="hidden" id="task-id" name="task-id">
                        <div><label for="task-project" class="block text-sm font-medium text-gray-700">Project /
                                Category</label><select id="task-project" name="task-project" required
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white"></select>
                        </div>
                        <div><label for="task-description" class="block text-sm font-medium text-gray-700">Task
                                Description</label><input type="text" id="task-description" name="task-description"
                                required
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="task-owner" class="block text-sm font-medium text-gray-700">Owner</label>
                                <p id="owner-helper-text" class="text-xs text-gray-500 hidden">Hold Ctrl/Cmd to select
                                    multiple.
                                </p><select id="task-owner" name="task-owner" required
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white"></select>
                            </div>
                            <div><label for="task-priority"
                                    class="block text-sm font-medium text-gray-700">Priority</label><select
                                    id="task-priority" name="task-priority"
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white">
                                    <option>Low</option>
                                    <option selected>Medium</option>
                                    <option>High</option>
                                    <option>Urgent</option>
                                </select></div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <!-- Assigned Date: Hidden, auto-set to today -->
                            <input type="hidden" id="assigned-date" name="assigned-date">
                            <div><label for="promise-date" class="block text-sm font-medium text-gray-700">Promise
                                    Date</label><input type="date" id="promise-date" name="promise-date" required
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border text-gray-500">
                            </div>
                            <div><label for="task-status"
                                    class="block text-sm font-medium text-gray-700">Status</label><select
                                    id="task-status" name="task-status"
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border bg-white">
                                    <option>Pending</option>
                                    <option>In Progress</option>
                                    <option>Done</option>
                                </select></div>
                        </div>
                        <div><label for="task-comments"
                                class="block text-sm font-medium text-gray-700">Comments</label><textarea
                                id="task-comments" name="task-comments" rows="3"
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border"></textarea>
                        </div><button id="modal-submit-btn" type="submit"
                            class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">Add
                            Task</button>
                    </form>
                </div>
            </div>

            <div id="team-modal"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
                <div class="relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-semibold text-gray-800">Manage Team</h3><button
                            id="close-team-modal-btn" class="text-gray-400 hover:text-gray-600"><svg class="h-6 w-6"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg></button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="md:col-span-1 hidden"> <!-- User req: Hide Add Member Form, use Code instead -->
                            <h4 class="font-semibold mb-2">Add New Member</h4>
                            <form id="team-form" class="space-y-4">
                                <div><label for="member-name"
                                        class="block text-sm font-medium text-gray-700">Name</label><input type="text"
                                        id="member-name" required
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border"></div>
                                <div><label for="member-designation"
                                        class="block text-sm font-medium text-gray-700">Designation</label><input
                                        type="text" id="member-designation" required
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border"></div>
                                <button type="submit"
                                    class="w-full py-2 px-4 rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Add
                                    Member</button>
                            </form>
                        </div>
                        <div class="md:col-span-3"> <!-- Expanded to full width since form is hidden -->
                            <h4 class="font-semibold mb-2">Current Team</h4>
                            <div class="overflow-y-auto max-h-64 border rounded-md">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">
                                                Name
                                            </th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">
                                                Designation</th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">
                                                Action
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody id="team-list-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="project-modal"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
                <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-semibold text-gray-800">Manage Projects</h3>
                        <button id="close-project-modal-btn" class="text-gray-400 hover:text-gray-600"><svg
                                class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg></button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="md:col-span-1">
                            <h4 class="font-semibold mb-2">Add New Project</h4>
                            <form id="project-form" class="space-y-4">
                                <div><label for="project-name" class="block text-sm font-medium text-gray-700">Project
                                        Name</label><input type="text" id="project-name" required
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border"></div>
                                <button type="submit"
                                    class="w-full py-2 px-4 rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Add
                                    Project</button>
                            </form>
                        </div>
                        <div class="md:col-span-1">
                            <h4 class="font-semibold mb-2">Current Projects</h4>
                            <div class="overflow-y-auto max-h-64 border rounded-md">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">
                                                Name
                                            </th>
                                            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">
                                                Action
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody id="project-list-body" class="bg-white divide-y divide-gray-200"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comment Modal -->
            <div id="comment-modal"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
                <div class="relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-lg bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-600"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"
                                    clip-rule="evenodd" />
                            </svg>
                            Comment
                        </h3>
                        <button id="close-comment-modal-btn" class="text-gray-400 hover:text-gray-600">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div id="comment-content"
                        class="text-gray-700 text-sm leading-relaxed bg-gray-50 p-4 rounded-md max-h-64 overflow-y-auto">
                    </div>
                    <div class="mt-4 text-right">
                        <button id="close-comment-btn"
                            class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium">
                            Close
                        </button>
                    </div>
                </div>
            </div>
            <!-- Task History Modal -->
            <div id="history-modal"
                class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
                <div class="relative top-10 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-lg bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-600"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                                    clip-rule="evenodd" />
                            </svg>
                            Task History
                        </h3>
                        <button id="close-history-modal-btn" class="text-gray-400 hover:text-gray-600">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div id="history-task-title" class="text-sm text-gray-600 mb-3 font-medium"></div>
                    <div id="history-content" class="max-h-96 overflow-y-auto space-y-3">
                        <!-- History entries will be rendered here -->
                    </div>
                    <div class="mt-4 text-right">
                        <button id="close-history-btn"
                            class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium">
                            Close
                        </button>
                    </div>
                </div>
            </div>

            <!-- Modules -->
            <script type="module" src="src/js/app.js?v=3.3"></script>
</body>

</html>